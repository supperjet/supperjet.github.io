<!DOCTYPE html>
<html>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="本节主要内容有：  三角函数介绍 常用三角函数解析 跟随鼠标角度旋转  看到三角函数，勾股定理这样的数学名词是不是有种双腿打颤的感觉啊！好吧，就算你已经吓尿了，也不能否认我们中学学习的知识终于有了用武之地，挽起袖子，开整！！！ 1、三角函数什么是三角函数呢？简单的定义：所谓三角函数，在几何上来说就是夹角与边的关系！为了更直观的表示，也为了让忘记的同学回忆起来，这里我给个示意图。  在上图中例出了几">
<meta name="keywords" content="canvas">
<meta property="og:type" content="article">
<meta property="og:title" content="每周一点canvas动画--三角函数（1）">
<meta property="og:url" content="http://yoursite.com/2017/08/17/每周一点canvas动画-三角函数（1）/index.html">
<meta property="og:site_name" content="一只会飞的鱼">
<meta property="og:description" content="本节主要内容有：  三角函数介绍 常用三角函数解析 跟随鼠标角度旋转  看到三角函数，勾股定理这样的数学名词是不是有种双腿打颤的感觉啊！好吧，就算你已经吓尿了，也不能否认我们中学学习的知识终于有了用武之地，挽起袖子，开整！！！ 1、三角函数什么是三角函数呢？简单的定义：所谓三角函数，在几何上来说就是夹角与边的关系！为了更直观的表示，也为了让忘记的同学回忆起来，这里我给个示意图。  在上图中例出了几">
<meta property="og:image" content="http://zyf-img.oss-cn-beijing.aliyuncs.com/Myblog%2Fpic%2Fsincos1.PNG?OSSAccessKeyId=LTAIkU9IYC0zIU2B&Expires=1862932507&Signature=NrII0nWh6hUydQiV1jowtlBi1zk%3D">
<meta property="og:image" content="http://zyf-img.oss-cn-beijing.aliyuncs.com/Myblog%2Fpic%2Fsincos2.PNG?OSSAccessKeyId=LTAIkU9IYC0zIU2B&Expires=1862932567&Signature=iHgV85Rh9CHZA8P3hXz%2Ba9uk5EQ%3D">
<meta property="og:image" content="http://zyf-img.oss-cn-beijing.aliyuncs.com/Myblog%2Fpic%2Fsincos3.PNG?OSSAccessKeyId=LTAIkU9IYC0zIU2B&Expires=1862932619&Signature=6DBkesFxHweGqcbMJ9qzl%2BWyyvs%3D">
<meta property="og:image" content="http://zyf-img.oss-cn-beijing.aliyuncs.com/Myblog%2Fpic%2Ftan.PNG?OSSAccessKeyId=LTAIkU9IYC0zIU2B&Expires=1862932672&Signature=0D9f%2FBnY0Az3m2Tq%2B1dc44ymuV0%3D">
<meta property="og:image" content="http://zyf-img.oss-cn-beijing.aliyuncs.com/Myblog%2Fpic%2Ftan.gif?OSSAccessKeyId=LTAIkU9IYC0zIU2B&Expires=1862932714&Signature=m8Qfxs%2BdRy5cLkoHwUVyGo27x2k%3D">
<meta property="og:updated_time" content="2017-08-17T01:19:04.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="每周一点canvas动画--三角函数（1）">
<meta name="twitter:description" content="本节主要内容有：  三角函数介绍 常用三角函数解析 跟随鼠标角度旋转  看到三角函数，勾股定理这样的数学名词是不是有种双腿打颤的感觉啊！好吧，就算你已经吓尿了，也不能否认我们中学学习的知识终于有了用武之地，挽起袖子，开整！！！ 1、三角函数什么是三角函数呢？简单的定义：所谓三角函数，在几何上来说就是夹角与边的关系！为了更直观的表示，也为了让忘记的同学回忆起来，这里我给个示意图。  在上图中例出了几">
<meta name="twitter:image" content="http://zyf-img.oss-cn-beijing.aliyuncs.com/Myblog%2Fpic%2Fsincos1.PNG?OSSAccessKeyId=LTAIkU9IYC0zIU2B&Expires=1862932507&Signature=NrII0nWh6hUydQiV1jowtlBi1zk%3D">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>每周一点canvas动画--三角函数（1）</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
</head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/supperjet">Projects</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2017/08/17/webgl基础概念/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2017/08/16/每天一点canvas动画-用户交互/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://yoursite.com/2017/08/17/每周一点canvas动画-三角函数（1）/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://yoursite.com/2017/08/17/每周一点canvas动画-三角函数（1）/&text=每周一点canvas动画--三角函数（1）"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://yoursite.com/2017/08/17/每周一点canvas动画-三角函数（1）/&title=每周一点canvas动画--三角函数（1）"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://yoursite.com/2017/08/17/每周一点canvas动画-三角函数（1）/&is_video=false&description=每周一点canvas动画--三角函数（1）"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=每周一点canvas动画--三角函数（1）&body=Check out this article: http://yoursite.com/2017/08/17/每周一点canvas动画-三角函数（1）/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://yoursite.com/2017/08/17/每周一点canvas动画-三角函数（1）/&title=每周一点canvas动画--三角函数（1）"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://yoursite.com/2017/08/17/每周一点canvas动画-三角函数（1）/&title=每周一点canvas动画--三角函数（1）"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://yoursite.com/2017/08/17/每周一点canvas动画-三角函数（1）/&title=每周一点canvas动画--三角函数（1）"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://yoursite.com/2017/08/17/每周一点canvas动画-三角函数（1）/&title=每周一点canvas动画--三角函数（1）"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://yoursite.com/2017/08/17/每周一点canvas动画-三角函数（1）/&name=每周一点canvas动画--三角函数（1）&description="><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1、三角函数"><span class="toc-number">1.</span> <span class="toc-text">1、三角函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2、常用三角函数"><span class="toc-number">2.</span> <span class="toc-text">2、常用三角函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3、Math-atan2-dy-dx"><span class="toc-number">3.</span> <span class="toc-text">3、Math.atan2(dy, dx)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4、跟随鼠标旋转"><span class="toc-number">4.</span> <span class="toc-text">4、跟随鼠标旋转</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#总结"><span class="toc-number">5.</span> <span class="toc-text">总结</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        每周一点canvas动画--三角函数（1）
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">一只会飞的鱼</span>
      </span>
      
    <div class="postdate">
        <time datetime="2017-08-16T16:21:22.000Z" itemprop="datePublished">2017-08-17</time>
    </div>


      
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/canvas/">canvas</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>本节主要内容有：</p>
<ul>
<li>三角函数介绍</li>
<li>常用三角函数解析</li>
<li>跟随鼠标角度旋转</li>
</ul>
<p>看到三角函数，勾股定理这样的数学名词是不是有种双腿打颤的感觉啊！好吧，就算你已经吓尿了，也不能否认我们中学学习的知识终于有了用武之地，挽起袖子，开整！！！</p>
<h3 id="1、三角函数"><a href="#1、三角函数" class="headerlink" title="1、三角函数"></a>1、三角函数</h3><p>什么是三角函数呢？简单的定义：<strong>所谓三角函数，在几何上来说就是夹角与边的关系</strong>！为了更直观的表示，也为了让忘记的同学回忆起来，这里我给个示意图。</p>
<p><img src="http://zyf-img.oss-cn-beijing.aliyuncs.com/Myblog%2Fpic%2Fsincos1.PNG?OSSAccessKeyId=LTAIkU9IYC0zIU2B&amp;Expires=1862932507&amp;Signature=NrII0nWh6hUydQiV1jowtlBi1zk%3D" alt=""></p>
<p>在上图中例出了几个常用的三角函数，角度与边（x, y和R）之间的关系如公式所示！那么在canvas中角度与边之间的关系是怎样的呢？首先，我们需要知道的是canvas中坐标是如何定义的。</p>
<p><img src="http://zyf-img.oss-cn-beijing.aliyuncs.com/Myblog%2Fpic%2Fsincos2.PNG?OSSAccessKeyId=LTAIkU9IYC0zIU2B&amp;Expires=1862932567&amp;Signature=iHgV85Rh9CHZA8P3hXz%2Ba9uk5EQ%3D" alt=""></p>
<p>如图所示，与普通坐标不同，canvas坐标以整个画布的左上角作为坐标原点，y轴朝下为正，x轴水平向右。坐标不同，对应的角度表示就有所差异，这个差异主要体现在角度的正负上。</p>
<p><img src="http://zyf-img.oss-cn-beijing.aliyuncs.com/Myblog%2Fpic%2Fsincos3.PNG?OSSAccessKeyId=LTAIkU9IYC0zIU2B&amp;Expires=1862932619&amp;Signature=6DBkesFxHweGqcbMJ9qzl%2BWyyvs%3D" alt=""></p>
<p>上图中canvas的坐标与普通坐标感觉一样，但我想表达的是在canvas中顺时针方向为正，逆时针为负。</p>
<h3 id="2、常用三角函数"><a href="#2、常用三角函数" class="headerlink" title="2、常用三角函数"></a>2、常用三角函数</h3><p>前面我们简单的介绍了三角函数的表示方法以及canvas的坐标系统。但是，在实际开发中我们不仅想要通过角度来推出两边的距离长度比值。而更关心的是<strong>如何通过已知的距离(因为坐标的位置很好确定)来推出角度</strong>。这里我们要用到<strong>反三角函数</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sin(θ)=x/R   ---&gt;  θ = arcsin(x/R)</div><div class="line">cos(θ)=y/R   ---&gt;  θ = arccos(y/R)</div><div class="line">tan(θ)=x/y   ---&gt;  θ = arctan(x/y)</div></pre></td></tr></table></figure></p>
<p>对应到javascript中,相应表示方法如下。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">sin(θ)  ---&gt;  Math.sin( θ * Math.PI/180 )</div><div class="line">cos(θ)  ---&gt;  Math.cos( θ * Math.PI/180 )</div><div class="line">tan(θ)  ---&gt;  Math.tan( θ * Math.PI/180 )</div><div class="line"></div><div class="line">θ = arcsin(x/R) ---&gt; Math.asin(x/R)*(180/Math.PI)</div><div class="line">θ = arccos(y/R) ---&gt; Math.acos(y/R)*(180/Math.PI)</div><div class="line">θ = arctan(x/y) ---&gt; Math.atan(x/y)*(180/Math.PI)</div></pre></td></tr></table></figure></p>
<p>好吧！看到这里也许你已经恶心得想吐了。但是，没办法这就是数学的魅力！这里需要强调的是：<strong>canvas中角度的表示采用的是弧度制</strong>。这样你就可以理解 <code>θ * Math.PI/180</code>是将角度转成弧度，比如：<code>30° = 30 * π /180 = π / 6</code>。 而将弧度转成角度自然就要用<code>弧度值``Math.asin(x/R)</code> 乘上<code>180/Math.PI</code>。这之间的转换关系，慢慢想想就明白了！</p>
<h3 id="3、Math-atan2-dy-dx"><a href="#3、Math-atan2-dy-dx" class="headerlink" title="3、Math.atan2(dy, dx)"></a>3、Math.atan2(dy, dx)</h3><p>相比于<code>Math.asin(</code>)和<code>Math.cos()</code>这两个函数，<code>Math.atan()</code>在开发中用到的更多。它可以直接通过两个直角边得到对应的角度值。相比于其他两个需要通过计算长边来得到角度值来说，计算过程更加简单！但是，该函数在角度的判定上回出现一个问题——<strong>存在两个相同的角度值而无法判定物体具体的旋转角度</strong>。详细说明如下图所示。</p>
<p><img src="http://zyf-img.oss-cn-beijing.aliyuncs.com/Myblog%2Fpic%2Ftan.PNG?OSSAccessKeyId=LTAIkU9IYC0zIU2B&amp;Expires=1862932672&amp;Signature=0D9f%2FBnY0Az3m2Tq%2B1dc44ymuV0%3D" alt=""></p>
<p>因为，tan函数的周期是（-π/2, π/2）,由于这一特性导致电脑是无法判断旋转的到底是哪个角度！！！这时，另一个函数就横空出世了，当当当当，他就是<code>Math.atan2(dy, dx)</code>!他不仅解决了上面我们说的问题，而且只需要传入横纵坐标距离就可以计算出对应的角度值！是不是很酷。</p>
<h3 id="4、跟随鼠标旋转"><a href="#4、跟随鼠标旋转" class="headerlink" title="4、跟随鼠标旋转"></a>4、跟随鼠标旋转</h3><p>本章的理论知识已经介绍完成。现在，开始我们的第一个demo——<code>rotate-to-mouse.html</code>顾名思义就是跟随鼠标旋转。首先创建一个文件<code>arrow.js</code>，这个文件是使用canvas画一个箭头，并且为了今后方便使用，将它写成一个类文件！代码如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">arrow.js文件</div><div class="line"></div><div class="line">    <span class="keyword">function</span> <span class="function"><span class="title">Arrow</span></span>() &#123;</div><div class="line">        this.x = 0;  //初始位置</div><div class="line">        this.y = 0;</div><div class="line">        this.rotation = 0;  //初始旋转角度</div><div class="line">        this.color = <span class="string">'#ffff00'</span>;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">    //在原型上定义draw方法</div><div class="line">    Arrow.prototype.draw = <span class="keyword">function</span>(context)&#123;</div><div class="line">        context.save();</div><div class="line">        context.translate(this.x , this.y); //将坐标移到this.x 和 this.y</div><div class="line">        context.rotate(this.rotation); //设置旋转角度</div><div class="line">        context.lineWidth = 5;  //设置线宽</div><div class="line">        context.fillStyle = this.color; //设置填充色</div><div class="line">        context.beginPath();  //路径开始</div><div class="line">        context.moveTo(-50,-25);</div><div class="line">        context.lineTo(0,-25);</div><div class="line">        context.lineTo(0,-50);</div><div class="line">        context.lineTo(50,0);</div><div class="line">        context.lineTo(0,50);</div><div class="line">        context.lineTo(0,25);</div><div class="line">        context.lineTo(-50,25);</div><div class="line">        context.closePath(); //路径闭合</div><div class="line">        context.stroke(); //描边</div><div class="line">        context.fill(); //填充</div><div class="line">        context.restore();</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p>现在我们在<code>rotate-to-mouse.html</code>文件中引入它，来创建一个箭头<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line">rotate-to-mouse.html 文件</div><div class="line"></div><div class="line">  &lt;canvas id=<span class="string">'canvas'</span> width=<span class="string">"500"</span> height=<span class="string">"500"</span> style=<span class="string">"background:#ccc;"</span>&gt;</div><div class="line">      you browser not support canvas</div><div class="line">  &lt;/canvas&gt;</div><div class="line"></div><div class="line">  &lt;script src=<span class="string">"../js/utils.js"</span>&gt;&lt;/script&gt; //引入我们的工具函数文件</div><div class="line">  &lt;script src=<span class="string">"../js/arrow.js"</span>&gt;&lt;/script&gt; //引入我们的箭头函数文件</div><div class="line">  &lt;script&gt;</div><div class="line">      window.onload = <span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">        var canvas = document.getElementById(<span class="string">'canvas'</span>);</div><div class="line">        var context = canvas.getContext(<span class="string">'2d'</span>);</div><div class="line">        var centerX = canvas.width/2;</div><div class="line">        var centerY = canvas.height/2;</div><div class="line">        </div><div class="line">        //传入canvas,获取鼠标在canvas上移动是的坐标</div><div class="line">        var mouse = utils.captureMouse(canvas);</div><div class="line">             </div><div class="line">        //新建一个arrow对象</div><div class="line">        var arrow = new Arrow();</div><div class="line">             </div><div class="line">        //将arrow的坐标设置为canvas的中心</div><div class="line">        arrow.x = centerX;</div><div class="line">        arrow.y = centerY;</div><div class="line">                 </div><div class="line">	  //动画循环函数</div><div class="line">      (<span class="keyword">function</span> <span class="function"><span class="title">drawFrame</span></span>()&#123;</div><div class="line">          window.requestAnimationFrame(drawFrame,canvas);</div><div class="line">          context.clearRect(0, 0, canvas.width, canvas.height);</div><div class="line">				  </div><div class="line">          //获取dy,dx值</div><div class="line">          var dx = mouse.x - arrow.x,</div><div class="line">          dy = mouse.y - arrow.y;</div><div class="line">                      </div><div class="line">          //设置旋转角度</div><div class="line">      	  arrow.rotation = Math.atan2(dy, dx);</div><div class="line">                    </div><div class="line">         //调用draw方法画出</div><div class="line">      	 arrow.draw(context);</div><div class="line"></div><div class="line">      &#125;)();</div><div class="line">&#125;</div><div class="line"></div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<p>我们最终得到的结果就是一个，可以跟随鼠标旋转的箭头。</p>
<p><img src="http://zyf-img.oss-cn-beijing.aliyuncs.com/Myblog%2Fpic%2Ftan.gif?OSSAccessKeyId=LTAIkU9IYC0zIU2B&amp;Expires=1862932714&amp;Signature=m8Qfxs%2BdRy5cLkoHwUVyGo27x2k%3D" alt=""></p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>这节你应该学会了如何运用三角函数，控制物体的旋转。重点公式：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">dx = mouse.x - <span class="class"><span class="keyword">object</span>.<span class="title">x</span></span>;</div><div class="line">dy = mouse.y - <span class="class"><span class="keyword">object</span>.<span class="title">y</span></span>;</div><div class="line"><span class="class"><span class="keyword">object</span>.<span class="title">rotation</span> </span>= <span class="type">Math</span>.atan2(dy,dx);</div></pre></td></tr></table></figure>

  </div>
</article>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/supperjet">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1、三角函数"><span class="toc-number">1.</span> <span class="toc-text">1、三角函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2、常用三角函数"><span class="toc-number">2.</span> <span class="toc-text">2、常用三角函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3、Math-atan2-dy-dx"><span class="toc-number">3.</span> <span class="toc-text">3、Math.atan2(dy, dx)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4、跟随鼠标旋转"><span class="toc-number">4.</span> <span class="toc-text">4、跟随鼠标旋转</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#总结"><span class="toc-number">5.</span> <span class="toc-text">总结</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://yoursite.com/2017/08/17/每周一点canvas动画-三角函数（1）/"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://yoursite.com/2017/08/17/每周一点canvas动画-三角函数（1）/&text=每周一点canvas动画--三角函数（1）"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://yoursite.com/2017/08/17/每周一点canvas动画-三角函数（1）/&title=每周一点canvas动画--三角函数（1）"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://yoursite.com/2017/08/17/每周一点canvas动画-三角函数（1）/&is_video=false&description=每周一点canvas动画--三角函数（1）"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=每周一点canvas动画--三角函数（1）&body=Check out this article: http://yoursite.com/2017/08/17/每周一点canvas动画-三角函数（1）/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://yoursite.com/2017/08/17/每周一点canvas动画-三角函数（1）/&title=每周一点canvas动画--三角函数（1）"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://yoursite.com/2017/08/17/每周一点canvas动画-三角函数（1）/&title=每周一点canvas动画--三角函数（1）"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://yoursite.com/2017/08/17/每周一点canvas动画-三角函数（1）/&title=每周一点canvas动画--三角函数（1）"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://yoursite.com/2017/08/17/每周一点canvas动画-三角函数（1）/&title=每周一点canvas动画--三角函数（1）"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://yoursite.com/2017/08/17/每周一点canvas动画-三角函数（1）/&name=每周一点canvas动画--三角函数（1）&description="><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2017 zhouyufei
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/supperjet">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/lib/meslo-LG/styles.css">
<link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">


<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-86660611-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Disqus Comments -->


